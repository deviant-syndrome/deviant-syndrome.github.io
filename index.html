<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  <meta name="robots" content="noindex">
  

  <title>Deviant Syndrome</title>
  <meta name="description" content="coding, multimedia, gamedev, engineering">
  <meta name="author" content="Deviant Syndrome">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Deviant Syndrome">
  <meta name="twitter:description" content="coding, multimedia, gamedev, engineering">
  
  <meta name="twitter:image" content="/images/favicons/favicon-194x194.png" />

  <meta property="og:type" content="article">
  <meta property="og:title" content="Deviant Syndrome">
  <meta property="og:description" content="coding, multimedia, gamedev, engineering">
  <meta property="og:image" content="/images/favicons/favicon-194x194.png" />

  <link rel="apple-touch-icon" sizes="57x57" href="/images/favicons/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/images/favicons/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/images/favicons/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/images/favicons/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/images/favicons/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/images/favicons/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/images/favicons/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/images/favicons/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicons/apple-touch-icon-180x180.png">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-194x194.png" sizes="194x194">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/images/favicons/android-chrome-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="/images/favicons/manifest.json">
  <link rel="shortcut icon" href="/images/favicons/favicon.ico">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="msapplication-TileImage" content="/images/favicons/mstile-144x144.png">
  <meta name="theme-color" content="#ffffff">
  
  <link rel="stylesheet" href="/css/main.css?1689960507126696000">
  <link rel="canonical" href="/">
  <link rel="alternate" type="application/rss+xml" title="Deviant Syndrome" href="/feed.xml">
<script>
window.MathJax = {
  tex: {
      packages: ['base', 'ams', 'noerrors', 'noundefined'],
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: false
  },
  loader: {
    load: ['[tex]/noerrors']
  }
};

  window.MathJax = {
  startup: {
    ready: () => {
      console.log('MathJax is loaded, but not yet initialized');
      MathJax.startup.defaultReady();
      console.log('MathJax is initialized, and the initial typeset is queued');
    }
  }
};
</script>
<style>
  @font-face {
    font-family: 'alphaTab';
     src: url('/js/alphaTab/Font/Bravura.eot');
     src: url('/js/alphaTab/Font/Bravura.eot') format('embedded-opentype')
          , url('/js/alphaTab/Font/Bravura.woff') format('woff')
          , url('/js/alphaTab/Font/Bravura.etf') format('opentype')
          , url('/js/alphaTab/Font/Bravura.svg') format('svg');
     font-weight: normal;
     font-style: normal;
}
</style>
<link rel="stylesheet" type="text/css" href="/assets/notation.css"> 
<script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>
<script src="/js/mathjax/tex-chtml.js" id="MathJax-script" async></script>

<script src="/js/alphaTab/AlphaTab.js" async></script>
<script src="/js/audiojs/audio.min.js"></script>
<link  href="/js/nanogallery2/css/nanogallery2.min.css" rel="stylesheet" type="text/css">
<script  type="text/javascript" src="/js/nanogallery2/jquery.nanogallery2.min.js"></script>
<link rel="stylesheet" href="/css/main.css?1689960507126696000">
</head>


  <body>
    <span class="mobile btn-mobile-menu">
  <i class="icon icon-list btn-mobile-menu__icon"></i>
  <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
</span>

<header class="panel-cover" style="background-image: url(/images/cover.jpg)">
  <div class="panel-main">

    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">
        <a href="/" title="link to home of Deviant Syndrome">
          <img src="/images/profile.jpg" class="user-image" alt="My Profile Photo">
          <h1 class="panel-cover__title panel-title">Deviant Syndrome</h1>
        </a>
        <hr class="panel-cover__divider">
        <p class="panel-cover__description">coding, multimedia, gamedev, engineering</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary">

        <div class="navigation-wrapper">

          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">
              <li class="navigation__item"><a href="/#blog" title="link to Deviant Syndrome blog" class="blog-button">Blog</a></li>
            </ul>
          </nav>

          <nav class="cover-navigation navigation--social">
            <ul class="navigation">

              <!-- Bandcamp -->
              <li class="navigation__item">
                <a href="http://hexensoldat.bandcamp.com" title="@Deviant Syndrome on Bandcamp"
                   target="_blank">
                  <i class="icon icon-social-bandcamp"></i>
                  <span class="label">Bandcamp</span>
                </a>
              </li>

              

            

            

            
              <!-- GitHub -->
              <li class="navigation__item">
                <a href="https://www.github.com/deviant-syndrome" title="deviant-syndrome on GitHub" target="_blank">
                  <i class="icon icon-social-github"></i>
                  <span class="label">GitHub</span>
                </a>
              </li>
            

            

            <!-- RSS -->
            <li class="navigation__item">
              <a href="/feed.xml" title="Subscribe" target="_blank">
                <i class="icon icon-rss"></i>
                <span class="label">RSS</span>
              </a>
            </li>

            </ul>
          </nav>

        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>


    <div class="content-wrapper">
      <div class="content-wrapper__inner">
        <img style='width: 100%; margin-bottom: 40px;' src="/images/lcdheader.png"/>

<div style='column-count: 3; margin-bottom: 32px'>
<h4 style='margin-top: 0px;'>MENU</h4>
<ul>

  
    
      <li><a href="/categories/#code-bits">code bits (5)</a></li>
    
      <li><a href="/categories/#demo">demo (1)</a></li>
    
      <li><a href="/categories/#dsp-math">dsp math (2)</a></li>
    
      <li><a href="/categories/#vst-audio-software">vst audio software (14)</a></li>
    
      <li><a href="/categories/#music">music (2)</a></li>
    
      <li><a href="/categories/#journalism?">journalism? (3)</a></li>
    
      <li><a href="/categories/#dsp">dsp (4)</a></li>
    
      <li><a href="/categories/#dsp-audio-software">dsp audio software (1)</a></li>
    
      <li><a href="/categories/#software">software (1)</a></li>
    
  

</ul>
</div>

<!--
  // TODO: uncomment, once you have some updates ;-) 
  <header class="post-header">
   <h2 class="post-list__post-title">
     <a href="#" title="Latest updates">Latest updates</a>
   </h2>
</header>
<p></p>
<section class="post">
    I am very interesting, talented and sophisticated
</section>
<p></p>
<hr class="post-list__divider">

-->
<div class="main-post-list">

  <ol class="post-list">
    
    
      <li>
        <h2 class="post-list__post-title post-title"><a href="/2023/Three_Random_Facts/" title="Three Random Facts">Three Random Facts</a></h2>
        
			 <p><section class="post"><p>Unrelated to anything, but I just wanted to share three random encounters with some seriously weird stuff.</p>
<ol>
  <li>XCode, by default, if you’re running your code it will pause the execution every time it stumbles 
upon a failing assertion. Annoying as hell. The fix for that is somewhat brutal.
    <ul>
      <li>Open the “Breakpoint Navigator” by clicking on the icon that looks like a right-angle or arrow in the left pane of the Xcode window.</li>
      <li>In the bottom left of the “Breakpoint Navigator”, click on the ‘+’ sign, then select “Exception Breakpoint…”</li>
      <li>A new window will open. Choose “All” for “Exception”</li>
      <li>Check “Automatically continue after evaluating actions”! That’s it</li>
    </ul>
  </li>
  <li>Ever trying to reset some MacOS application settings. Like, there configuration files are nowhere to be found.
It’s all because of Objective-C NSUserDefaults. They are supposed to be stored in ~/Library/Preferences/ folder.
However, only executing the following made the settings reset for good:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>defaults delete com.codeplex.pcsxr
</code></pre></div>    </div>
    <p><code class="language-plaintext highlighter-rouge">com.codeplex.pcsxr</code> is just an example, but all the other application namespaces are similar.</p>
  </li>
  <li>In SLADE you have to add the scripts manually to the WAD archive, otherwise they won’t be executed. To make this work with UDMF, you have to add the scripts LUMP before the ENDMAP marker. Also, you need recomplile it manually if changed.</li>
</ol>
</section></p>
		
        <div class="post-list__meta">
            <time datetime="2023-07-08 18:55" class="post-list__meta--date date">8 Jul 2023</time>
            
            &#8226; <span class="post-meta__tags">on <a href="/tags/#xcode">xcode</a> </span>
            
        </div>
        <hr class="post-list__divider">
      </li>
    
      <li>
        <h2 class="post-list__post-title post-title"><a href="/2023/Importing_WaveEdit_Wavetables_to_Pigments/" title="Importing WaveEdit Wavetables to Pigments">Importing WaveEdit Wavetables to Pigments</a></h2>
        
			 <p><section class="post"><p>Just a quick note on how to import wavetables from <a href="https://www.waveeditonline.com/">WaveEdit</a> to <a href="https://www.arturia.com/products/analog-classics/pigments">Pigments</a>
Pigments is an brilliant exhibit of what is now called a <em>power synth</em>-buzzword, I first encountered it in “Future Music” magazine  Much like <a href="https://www.native-instruments.com/en/products/komplete/synths/massive/">Massive</a>, 
it combines a pack of different synthesis techniques (engines), all streamlined into a single interface for you to mix and match. Both of aforementioned products
also sport an easy “drag-and-drop” modulation system, which is a great way to get started with sound design.</p>

<p>Pigments is a great synth, but it does not have a built-in wavetable editor. So, how about another 
weird audio-software-combo? I’m not sure if it is a good idea, but it is definitely a fun one. 
I think that WaveEdit was originally designed to be used with <a href="https://www.openacousticdevices.info/">AudioMoth</a>, or some
other audio hardware, but it is also a great tool for wavetable editing with a very appealing UI. 
More importantly, it has an integrated library of community-curated wavetables, which you can use as a starting point for your own designs,
or to approximate some of the classic digital synth sounds, like the ones from <a href="https://waldorfmusic.com/en/microwave">Waldorf Microwave</a> or <a href="https://en.wikipedia.org/wiki/PPG_Wave">PPG Wave</a>.</p>

<p>There is a tiny compatibility issue, though, probably related to wavetable resolution. If I save a wavetable in WaveEdit, and then try to import it to Pigments, the 
frames do not line up. The wavetable is still usable, but it is not exactly what I wanted. I think that the problem is that WaveEdit uses 64 frames per wavetable, while Pigments uses 512.
How do we make them align properly? Simple! Just make it 8x slower, e.g. apply the speed multiplier of 0.125 and you are good to go.</p>

</section></p>
		
        <div class="post-list__meta">
            <time datetime="2023-06-23 20:37" class="post-list__meta--date date">23 Jun 2023</time>
            
            &#8226; <span class="post-meta__tags">on <a href="/tags/#waveedit">waveedit</a> <a href="/tags/#software">software</a> </span>
            
        </div>
        <hr class="post-list__divider">
      </li>
    
      <li>
        <h2 class="post-list__post-title post-title"><a href="/2023/SSH_Agent_under_MacOS_Ventura/" title="SSH Agent under MacOS Ventura">SSH Agent under MacOS Ventura</a></h2>
        
			 <p><section class="post"><p>After upgrading to MacOS Venture I had a bit of a problem with the SSH agent. This problem, though, could still 
be related to the interface between the monitor and the chair, as we developers like to say.</p>

<p>I’m using multiple SSH keys, mainly to distinguish between my personal and work GitHub accounts. Git has a nice option for that, btw:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">GIT_SSH_COMMAND</span><span class="o">=</span><span class="s1">'ssh -i ~/.ssh/personal_github_rsa -o IdentitiesOnly=yes'</span>
</code></pre></div></div>

<p>After the upgrade, 
I migrated the SSH keys from the old machine. Manually. I mean, like <code class="language-plaintext highlighter-rouge">scp</code>-manually. Don’t ask me why I did not use the standard migration tools 
. Believe me, that are something things behind those slick silver facade, that you don’t want to know about. But to imagine the 
horror I will just say, that the experience with migration tools for my platform made me really miss <a href="https://clonezilla.org/">CloneZilla</a>.</p>

<p>Anyway, back to the topic. After the migration, when I tried to push something to my personal GitHub repo, I got the authentication error.
So, I had to add the key to the agent. I did it like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">eval</span> <span class="s2">"</span><span class="si">$(</span>ssh-agent <span class="nt">-s</span><span class="si">)</span><span class="s2">"</span>
ssh-add <span class="nt">-K</span> ~/.ssh/personal_github_rsa
ssh-add <span class="nt">-l</span>
</code></pre></div></div>
<p>The <code class="language-plaintext highlighter-rouge">-K</code> option was specific to macOS and adds the specified identity file to the Keychain, which is the secure password management system on macOS.</p>

<p>Lately, I also stumbled upon this:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>WARNING: The -K and -A flags are deprecated and have been replaced
by the --apple-use-keychain and --apple-load-keychain
flags, respectively.  To suppress this warning, set the
environment variable APPLE_SSH_ADD_BEHAVIOR as described in
the ssh-add(1) manual page.
</code></pre></div></div>
<p>So, probably, it is better to use the new options:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh-add <span class="nt">--apple-use-keychain</span> ~/.ssh/personal_github_rsa
</code></pre></div></div>
</section></p>
		
        <div class="post-list__meta">
            <time datetime="2023-06-17 12:15" class="post-list__meta--date date">17 Jun 2023</time>
            
            &#8226; <span class="post-meta__tags">on <a href="/tags/#bash">bash</a> </span>
            
        </div>
        <hr class="post-list__divider">
      </li>
    
      <li>
        <h2 class="post-list__post-title post-title"><a href="/2023/WaveEdit_and_Virtual_Outputs/" title="WaveEdit and Virtual Outputs">WaveEdit and Virtual Outputs</a></h2>
        
			 <p><section class="post"><p>This will be a short one. I just wanted to share a quick tip on how to use <a href="https://www.waveeditonline.com/">WaveEdit</a> with virtual audio outputs, 
if case someone is bashing their head against the wall trying to figure out what is wrong with it.</p>

<p>Earlier I reported, that Audacity had some problems with recording virtual audio outputs. I tried to record 
WaveEdit output with it, using BlackHole 16ch, and it was not working. I was getting a blank recording. That was a bit strange, because 
I was able to record WaveEdit output with other applications, like <a href="https://sox.sourceforge.net/">SoX</a> and <a href="https://ffmpeg.org/ffplay.html">ffplay</a>.
BlackHole 16ch also worked flawlessly for all the other applications and use-cases I had. So, I was a bit puzzled, 
until I checked the multi-channel wave rendered by sox. It was channel 3 and channel 4, that had the actual audio data, Not 1 and 2, as one might expect.
Why does WaveEdit (or is it sox?) act like this is beyond my comprehension.</p>

</section></p>
		
        <div class="post-list__meta">
            <time datetime="2023-06-17 11:47" class="post-list__meta--date date">17 Jun 2023</time>
            
            &#8226; <span class="post-meta__tags">on <a href="/tags/#waveedit">waveedit</a> <a href="/tags/#software">software</a> </span>
            
        </div>
        <hr class="post-list__divider">
      </li>
    
      <li>
        <h2 class="post-list__post-title post-title"><a href="/2023/History_of_Digital_Recording/" title="History of Digital Recording">History of Digital Recording</a></h2>
        
	<p class="excerpt"><p><img src="https://upload.wikimedia.org/wikipedia/commons/a/a9/Dat_cartridge.jpg" alt="heck" width="100%" style="margin-top: 20px;" /></p>

<h4 id="at-least-my-take-on-it">At Least, My Take On It</h4>

<p>So, during another lunch break at my not-creative-at-all day job, we were discussing the possibility of existence of purely digital recordings in the 80’s. 
I always hijack the conversation to talk about music, and this time was no exception, which, of course, tells you a lot about my social skills and level of adaptation.</p>

<p>I was quite sure that it was possible, but I was not sure about the exact dates and the technology used.
Over the course of discussion, one of my colleagues even challenged me to tighten up the definition of “digital recording” itself.
This was the turning point, because I realized, that we are talking about the existence of systems or solutions that included both tools digital synthesis and sequencing, as well as digital recording the result.
All that extravaganza when the DSP was still at its infancy.
As we all know, 80’s were flourishing with digital synthesizers, but the digital recording was not that widespread, so
you would still track your beloved Yamaha DX7 or Roland D-50 to a tape recorder, or a reel-to-reel machine. 
During the conversation, we agreed, that this does not count as a digital recording, because the recording medium is analog.</p>

<p>So, I made some vague hypothesis on what kind of setup that might be and what was the year when it hit the market. 
I decided later, that I will do some quick fact-checking to update my friends with the correct answer. This however, turned into 
a full-blown mystery investigation, which I am going to share with you.</p>

</p>
	<p style="padding-top: 20px; text-align: right;"><a href="/2023/History_of_Digital_Recording/" class="btn">
			  Read more<!-- <img src="/images/more.svg"></img> -->
			</a></p>  
		
        <div class="post-list__meta">
            <time datetime="2023-06-03 11:17" class="post-list__meta--date date">3 Jun 2023</time>
            
            &#8226; <span class="post-meta__tags">on <a href="/tags/#dsp">dsp</a> </span>
            
        </div>
        <hr class="post-list__divider">
      </li>
    
      <li>
        <h2 class="post-list__post-title post-title"><a href="/2023/Live_Bounce_Recording_Using_Terminal/" title="Live Bounce Recording Using Terminal">Live Bounce Recording Using Terminal</a></h2>
        
	<p class="excerpt"><h4 id="icebreaker">Icebreaker</h4>
<p>My obsession with using found sounds in my recording, often gives me a sudden itch to bounce a few seconds of audio output from a random application on my computer. 
Say, a web application or a video player.</p>

<p>And then I really feel, how cumbersome and inflated it is to start a general purpose DAW for that, and crawl through an 
awkward ritual of gently rubbing its multichannel mixer and transport controls for that. It is the same as 
summoning a 12 feet tall four-horned purple demon to open a can of beans for you.</p>

<p>There are of course lightweight open source wave editors, like <a href="https://www.audacityteam.org/">Audacity</a>.<br />
Sadly, previous versions of it had some problems with recording “virtual” audio outputs akin to <a href="https://existential.audio/blackhole/">BlackHole 16ch</a>, 
I’m currently using.</p>

<p>Seems to be working correctly from version 3.2.5 onwards, though. Till this version was published I had plenty of free time to develop my own crappy solution
for yet another purposely invented problem. But this is how you mine proper tech-blog material, isn’t it? So, let’s go!</p>

<h4 id="the-ingredients">The Ingredients</h4>

<ul>
  <li><a href="https://sox.sourceforge.net/">SoX</a> - swiss army knife for DSP via terminal, as it is nominated by its developers. And, oh boy, indeed it is.</li>
  <li><a href="https://ffmpeg.org/ffplay.html">ffplay</a> - a part of FFmpeg audio suite, and it is a very simple portable media player using the FFmpeg libraries</li>
</ul>

<h4 id="the-magic">The Magic</h4>

<p>UNIX-like terminal command piping using the <code class="language-plaintext highlighter-rouge">|</code> operator. Pipe operator placed between two commands simply tells the shell,
that first commands input becomes second command output. This thing combined with another UNIX paradigm called <a href="https://en.wikipedia.org/wiki/Redirect_(computing)">IO Redirect</a>
is what really unlocks that “shell magic” at the reach of your fingertips (unless half of them had forever ingrown into
that horrible bio-prosthetic named after a small rodent species). So the commands for bouncing live output to a file are the following:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sox <span class="nt">-V6</span> <span class="nt">-t</span> coreaudio <span class="s2">"BlackHole 16ch"</span> <span class="nt">-t</span> wav - | ffplay -
sox <span class="nt">-V6</span> <span class="nt">-t</span> coreaudio <span class="s2">"BlackHole 16ch"</span> <span class="nt">-t</span> wav output.wav
</code></pre></div></div>
<p>As you can see, I provided two very similar commands here. Indeed, I use the same source for both of them, which is my 
virtual input device. 
First command just redirects the output of my virtual device to <code class="language-plaintext highlighter-rouge">ffplay</code>. This solves the recording monitoring problem. 
Next one actually does the recording of audio to disk. 
Monitoring pipeline sometimes fails, while recording is stable, so I would recommend to run it in separate terminal 
sessions.</p>

<h4 id="but-wait-there-is-more">But wait, there is more!</h4>

<p>Albeit <code class="language-plaintext highlighter-rouge">sox</code> does not look all that “user-friendly”, it can be much smarter than trivial methods of live record bouncing. Especially, when it comes to trimming silence.
Let’s consider the following command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sox <span class="nt">-V6</span> <span class="nt">-t</span> coreaudio <span class="s2">"BlackHole 16ch"</span> <span class="nt">-t</span> wav output.wav silence 1 0.1 1% 1 0.5 1%
</code></pre></div></div>

<p>This command will record audio from my virtual device, and trim silence from the beginning and the end of the recording. Technically, this applies “silence” effect as a part the internal FX chain of <code class="language-plaintext highlighter-rouge">sox</code>.</p>

<p>Let’s break down the parameters a bit:</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1 0.1 1%</td>
      <td>Detects silence segments that are at least 1 second long, with a silence threshold of 0.1 (10% of maximum volume).</td>
    </tr>
    <tr>
      <td>1 0.5 1%</td>
      <td>Removes silence segments that are at least 1 second long, with a silence threshold of 0.5 (50% of maximum volume).</td>
    </tr>
  </tbody>
</table>

<p>You can read more about <code class="language-plaintext highlighter-rouge">sox</code> silence effect <a href="https://sox.sourceforge.io/sox.html#EFFECTS">here</a>.</p>

<p>When bouncing live audio, you would probably want some safeguard to prevent overwriting existing files. <code class="language-plaintext highlighter-rouge">sox</code> does not have a built-in solution for that, but you can easily write a small shell script to do that for you. Here is a small example:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>

<span class="nv">wildcard</span><span class="o">=</span><span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span>
<span class="nv">counter</span><span class="o">=</span>1

<span class="k">while </span><span class="nb">true</span><span class="p">;</span> <span class="k">do
</span><span class="nv">filename</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">wildcard</span><span class="p">/\*/</span><span class="nv">$counter</span><span class="k">}</span><span class="s2">"</span>
<span class="k">if</span> <span class="o">[</span> <span class="o">!</span> <span class="nt">-e</span> <span class="s2">"</span><span class="nv">$filename</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
</span><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$filename</span><span class="s2">"</span>
<span class="nb">break
</span><span class="k">fi</span>
<span class="o">((</span>counter++<span class="o">))</span>
<span class="k">done</span>
</code></pre></div></div>
<p>Then you can use it like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">output_filename</span><span class="o">=</span><span class="si">$(</span>./find_next_file.sh <span class="s2">"output*.wav"</span><span class="si">)</span>
sox <span class="nt">-V6</span> <span class="nt">-t</span> coreaudio <span class="s2">"BlackHole 16ch"</span> <span class="nt">-t</span> wav <span class="s2">"</span><span class="nv">$output_filename</span><span class="s2">"</span>
</code></pre></div></div>

</p>
	<p style="padding-top: 20px; text-align: right;"><a href="/2023/Live_Bounce_Recording_Using_Terminal/" class="btn">
			  Read more<!-- <img src="/images/more.svg"></img> -->
			</a></p>  
		
        <div class="post-list__meta">
            <time datetime="2023-05-13 12:05" class="post-list__meta--date date">13 May 2023</time>
            
            &#8226; <span class="post-meta__tags">on <a href="/tags/#bash">bash</a> <a href="/tags/#dsp">dsp</a> </span>
            
        </div>
        <hr class="post-list__divider">
      </li>
    
      <li>
        <h2 class="post-list__post-title post-title"><a href="/2022/Docker_Audio_Hell_Pt__2/" title="Docker Audio Hell Pt. 2">Docker Audio Hell Pt. 2</a></h2>
        
	<p class="excerpt"><h4 id="false-promises-of-posix-compatibility">False Promises of POSIX-compatibility</h4>

<p>In <a href="/2022/Docker_Audio_Hell/">previous article</a> we briefly touched upon evolution of audio playback and processing under Unix-like operating system. That was quite a ride, if you remember. Maintaining traditions firmly set in this blog, let’s ask ourselves a question, how can we make my experience with *NIX audio even more pathological. Any suggestions? Right! Let’s run it in Docker under MacOS.</p>

<p>Ok. Let’s first politely (for the most part) dismiss the obvious suggestions from the sane-minded people. This would be sure mixed with some old-man’s rumbling touching the peculiarity of his ill habits.
Q: Why not just install Wine on your host system? 
A: Being a mentally challenged paranoid I am, I have to state that I\m simply afraid. As of now, MacOS has completely dropped 32-bit support, the instructions of building and setting up Wine on those kind of systems looks like for building a portal to Hell. I’m not sure if I’m ready for that yet.</p>

<p>Q: Why not use a proper HyperVisor, instead of crippled Docker, which was not designed for those kinds of shenanigans anyway?
A: Two point here. First, I simply do not want to install another piece of heavyweight software on my laptop (which is, technically, not even mine). Haven’t I already have this Docker thing lying around and my dayjob makes me interact with it a lot. So why not utilise it for something useful? (depends, on how one defines “useful”, of course)</p>

<p>Q: What’s the use of some old Win32 application?  It does not fit the modern audio production standards at all. 
A: That’s just how I roll, sir/ma’m</p>

<p>On normal Unix-like systems, the host’s sound (and MIDI) hardware could be simply shared via plain docker device mountpoint, like:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># x11docker provides this setup with option --alsa.</span>
docker run <span class="nt">--rm</span> <span class="nt">--device</span> /dev/snd ALSAIMAGE speaker-test
</code></pre></div></div>

<p>However, on our beloved slick 2+K$ tinfoil cans, we are going into…</p>

</p>
	<p style="padding-top: 20px; text-align: right;"><a href="/2022/Docker_Audio_Hell_Pt__2/" class="btn">
			  Read more<!-- <img src="/images/more.svg"></img> -->
			</a></p>  
		
        <div class="post-list__meta">
            <time datetime="2022-08-21 17:26" class="post-list__meta--date date">21 Aug 2022</time>
            
            &#8226; <span class="post-meta__tags">on <a href="/tags/#docker">docker</a> <a href="/tags/#wine">wine</a> <a href="/tags/#pulseaudio">pulseaudio</a> </span>
            
        </div>
        <hr class="post-list__divider">
      </li>
    
      <li>
        <h2 class="post-list__post-title post-title"><a href="/2022/Cursed_FM_Synth/" title="Cursed FM Synth">Cursed FM Synth</a></h2>
        
			 <p><section class="post"><h4 id="as-it-was-not-cursed-enough-already">As it was not cursed enough already</h4>

<p><img src="/assets/images/cursedfm7.svg" alt="heck" width="100%" style="margin-top: 20px;" /></p>

<div class="audio-container" style="margin-bottom: 32px;">
	<audio src="/assets//mp3/2022/cursedfm.mp3" preload="auto"></audio>
</div>

<p>You all know <a href="https://asb2m10.github.io/dexed/">DEXED</a>, an awesome Yamaha DX7 librarian. Seems like I stumbled upon an undocumented feature. When you use it to load a DX7 cart dump, it allows you to select any file on your system. So, why not pick a file, that has nothing to do with DX or even music whatsoever? This way it fills all the registers of a virtual Yamaha with rubbish. And it sounds wild, folks, absolutely untamed.</p>

<p>Listening back to this, I was kinda imagining those big heads like B. Eno or T. Reznor who have somehow found a way, to do the same with a real physical DX7 keyvoard. Was it really  a dedicated programmator, or were they just sending digital noise in form of SYSEX  messages?</p>

<p>Probably the former, no matter what my corrupted imagkintation tells me.</p>

<div class="downloadBox" onclick="window.location='/assets/CURSED.syx'; return false;">
  Download SYX<br />
  <p style="font-size: small; margin-top: 2px; margin-bottom: 2px;">Cursed DX7 Cart</p>
</div>

</section></p>
		
        <div class="post-list__meta">
            <time datetime="2022-06-26 14:38" class="post-list__meta--date date">26 Jun 2022</time>
            
        </div>
        <hr class="post-list__divider">
      </li>
    
      <li>
        <h2 class="post-list__post-title post-title"><a href="/2022/OverType_TypeWriter_Simulator/" title="OverType TypeWriter Simulator">OverType TypeWriter Simulator</a></h2>
        
			 <p><section class="post"><h4 id="when-too-realistic-is-not-enough">When Too Realistic is Not Enough</h4>

<p>Have you folks seen this amazing JS demo, resembling an <a href="https://uniqcode.com/typewriter/">old typewriter</a>? I, personally, find it hilarious and enjoyable. The ink refill process, the brokeness fader, the click sound, this makes it  almost an ideal <em>soft machine</em>.</p>

<p>There is one  problem though, which, sadly, cannot really attribute that to the precision of the simulation. Sometimes, it will just hangs up, stop reacting to any keystrokes, and there is no way to save the text you’ve already typed, or, continuing the analogy, - feed the page back into the roll, after you fix the jam.</p>

<p>My intuitive approach to this show-stopper, would be just re-run the bits of javascript that set the virtual typewriter up. I found a very useful code bit somewhere, which worked exactly as I expected.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">arr</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">head</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="dl">'</span><span class="s1">script</span><span class="dl">'</span><span class="p">)</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">n</span> <span class="o">&lt;</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">n</span><span class="o">++</span><span class="p">)</span>
    <span class="nb">eval</span><span class="p">(</span><span class="nx">arr</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nx">innerHTML</span><span class="p">)</span> <span class="c1">//run script inside div</span>
</code></pre></div></div>

<p>Thanks to this, I was able to finish a page of my upcoming horror-story fanzine. Hell yeah, you cannot really achieve it in any other way, than using a good old typewriter!</p>

<p><img src="/assets/images/fanzine01_thumb.png" data-ngsrc="/assets/images/fanzine01.jpg" data-nanogallery2-lightbox="{ &quot;viewerGallery &quot;: &quot;none&quot; }" /></p>
</section></p>
		
        <div class="post-list__meta">
            <time datetime="2022-06-14 13:50" class="post-list__meta--date date">14 Jun 2022</time>
            
            &#8226; <span class="post-meta__tags">on <a href="/tags/#js">js</a> </span>
            
        </div>
        <hr class="post-list__divider">
      </li>
    
      <li>
        <h2 class="post-list__post-title post-title"><a href="/2022/Docker_Audio_Hell/" title="Docker Audio Hell Pt. 1">Docker Audio Hell Pt. 1</a></h2>
        
			 <p><section class="post"><h4 id="and-the-passive-amoeba-of-linux-audio">And The Passive Amoeba of Linux Audio</h4>

<p><img src="/assets/images/figures/amoeba1.svg" alt="heck" width="100%" style="margin-top: 20px;" /></p>

<p>In this article, we are going to quickly reiterate the reason why audio-production on Linux can be challenging (if not frustrating at times). I think, the main reason for that, besides of course, my own incompetence, is audio-facilties being handled in too much of Unix-way. But what is Unix way, anyway? Well, in short, we have one isolated piece of software doing one single thing, but doing well.If any additional processing needs to be done with the output, we pipe (|) it into another isolated piece of software. Several steps of that form a <em>pipeline</em>. 
Sounds great, right? Well, unfortunately, sometimes the seeming tidiness of this approach could quikcly go down the tubes (pun intended). 
Once you need something specific, or something simply done <em>your</em> way, you’ll have to explore the whole pipeline from end to end. It’s alright, if the nodes there are simple utilities like <code class="language-plaintext highlighter-rouge">cat</code> or <code class="language-plaintext highlighter-rouge">grep</code>, but imaging exploring each of those having massive tectonic layers of legacy software archeology above them.</p>

<p>So, here is how this usually happens. It all starts with ALSA, a kernel subsystem, which works directly with your audio hardware. It does not efficiently handle software mixing and routing, though, so applications  cannot share your device inputs/outputs effieicently, and we were not even talking about routing audio inputs and outputs between them. 
To satisfy those needs, PulseAudio was introduced. A software wrapper around ALSA, that re-routes all the audio streams through itself, and distributes it between existing hardware inputs and outputs (sinks). Applications compiled to use PulseAuido as audio-driver cannot use ALSA directly, all according to the hightest standards of incomprehensible madman’s logic we maintain in the world of prograaming.</p>

<p>PulseAudio, however had some issues with latency, which made it hardly usable for “professional” audio-recording, that usually includes near real-time record monitoring, for example. 
To solve problem, purposedly introdued, we wrote an alternative to PulseAudio called JACK. Does this remind you of <a href="https://en.wikipedia.org/wiki/The_Futurological_Congress">“The Futurological Congress”</a>? For me it totally does.
For a long time, JACK was the standard for (semi)professional audio work on Linux. Apparently, does not play nicely with PulseAudio. Some applications, (ex: Wine), does not support JACK at all. Of course, Wine has WineASIO, which can be routed to JACK, however, it is possible only for applications that use ASIO for audio, i.e. DAWs.</p>

<p>Both JACK and Pulseaudio, have different solutions for audio-over network. PulseAudio has native client-server support, and also , a special audio-sink for streaming audio in RTP protocol (is it the same thing as zeroconf or not?). Judging by these configuration strings, client-server support of pulseaudio, can use TCP as a transport, and something called “native”, which I presume, would be standard unix-sockets.</p>

<p><img src="/assets/images/figures/amoeba2.svg" alt="heck" width="100%" /></p>

<p>JACK provides <a href="https://jackaudio.org/faq/netjack.html">several ways</a> remote audio networking. It’s native <code class="language-plaintext highlighter-rouge">netone</code> addon using CELT codec and master/follower pattern,  and some newer netJACK2, which has network discovery.</p>

<p>Lately, yet another ultra-low-latency professional-audio-grade Unix soundsystem was introduced. It’s called PipeWire, and it is sort of a chamenion protocol, which can act as a PulseAudio backend for PulseAudio clients, Jack backend to Jack clients and so on. AFAIK, Pipewire does not have audio-over-network support.</p>

<p><strong>NOTE</strong>: Some amoebas are not shown on the figures, simply because they are considered extinct. Before ALSA, earlier versions of Linux were shipped with Open Sound System (OSS), which then was appropriated and no longer counts as free software. However, as we know, once introduced at the kernel level, is destined to be supported for eternity. That’s why ALSA still has an OSS emulation mode.</p>
</section></p>
		
        <div class="post-list__meta">
            <time datetime="2022-06-07 09:47" class="post-list__meta--date date">7 Jun 2022</time>
            
            &#8226; <span class="post-meta__tags">on <a href="/tags/#docker">docker</a> <a href="/tags/#wine">wine</a> <a href="/tags/#pulseaudio">pulseaudio</a> </span>
            
        </div>
        <hr class="post-list__divider">
      </li>
    
  </ol>

  <hr class="post-list__divider ">

  
      <nav class="pagination" role="navigation">
  

  <span class="pagination__page-number">Page 1 of 4</span>

  
    <a rel="next" class="posts older btn small" href="/page2/">Older Posts →</a>
  
</nav>

  

</div>

      </div>

      <footer class="footer">
  <span class="footer__copyright">&copy; 2023 Deviant Syndrome. All rights reserved.</span>
  <span class="footer__copyright">Based on <a href="https://github.com/joshgerdes/jekyll-uno">jekyll-uno</a> theme by Josh Gerdes</span>
</footer>

<script type="text/javascript" src="/js/main.js?1689960507126696000"></script>
<script type="text/javascript" src="/js/sheetrender.js"></script>
<script src="/js/audioplaylist.js"></script>	


    </div>
  </body>
</html>
